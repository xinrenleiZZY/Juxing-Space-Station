# 项目结构与数据情况分析报告

## 1. 项目概况

这是一个用于采集中国城市AQI（空气质量）历史与实时数据的Python项目，主要功能包括：
- 历史数据爬取（按城市和年份）
- 实时数据爬取
- 数据清洗与处理
- 数据存储（CSV和SQLite数据库）
- 交互式数据查询

## 2. 项目结构

```
AQI-DATA-collection-2025New-taro/
├── config/          # 配置文件目录
│   ├── cities.json  # 城市列表配置
│   ├── settings.py  # 全局配置（路径、爬取间隔等）
├── data/            # 数据存储目录
│   ├── raw/         # 原始历史数据（按城市和年份存储）
│   ├── Newraw/      # 原始实时数据
│   ├── processed/   # 处理后的数据
├── src/             # 源代码目录
│   ├── crawlers/    # 爬虫模块
│   ├── data_processing/  # 数据处理模块
│   ├── utils/       # 工具函数
│   └── main.py      # 主程序入口
├── scripts/         # 辅助脚本
└── README.md        # 项目说明文档
```

## 3. 数据情况

### 3.1 历史数据（data/raw/）

历史数据按年份和城市存储，文件名格式为`{年份}_{城市}_aqi_history.csv`，例如：
- `2021_北京_aqi_history.csv`
- `2021_天津_aqi_history.csv`
- `2021_石家庄_aqi_history.csv`

数据格式示例：
```csv
日期,AQI指数,质量等级,当天AQI排名,PM2.5,PM10,No2,So2,Co,O3,城市,年份,月份
2021-01-01,55,良,198,28,61,49,5,0.73,10,北京,2021,01
2021-01-02,72,良,187,51,79,47,5,1.19,13,北京,2021,01
```

### 3.2 实时数据（data/Newraw/）

实时数据按时间点存储，文件名包含时间戳，例如：
- `realtime_京津冀_20251203_1844.csv`
- `realtime_京津冀_20251203_1845.csv`

### 3.3 处理后数据（data/processed/）

清洗和处理后的数据，包含时间戳前缀，例如：
- `20251205_162354_history_processed.csv`
- `20251205_162354_realtime_processed.csv`

## 4. 京津冀城市群范围

根据`config/cities.json`配置，京津冀城市群包括：
- **直辖市**：北京、天津
- **河北省**：石家庄、唐山、秦皇岛、邯郸、邢台、保定、张家口、承德、沧州、廊坊、衡水

共13个城市。

## 5. 数据处理流程

1. **数据爬取**：通过`src/crawlers/`模块爬取历史和实时数据
2. **数据清洗**：通过`src/data_processing/cleaner.py`对数据进行清洗和标准化
3. **数据存储**：清洗后的数据保存到CSV文件和SQLite数据库
4. **数据查询**：通过`scripts/query_db.py`进行交互式查询

## 6. 为LSTM时间序列模型准备的数据

### 6.1 可用特征

历史数据包含丰富的空气质量指标，适合用于PM2.5浓度预测：
- **核心预测目标**：PM2.5浓度
- **相关特征**：
  - PM10：可吸入颗粒物
  - No2：二氧化氮
  - So2：二氧化硫
  - Co：一氧化碳
  - O3：臭氧
  - AQI指数：空气质量综合指数
  - 质量等级：空气质量分类

### 6.2 数据时间范围

目前数据涵盖2015-2022年（部分城市可能有更多年份），可以构建长期的时间序列预测模型。

## 7. 下一步工作建议

1. **数据整合**：将京津冀13个城市的历史数据整合到一个数据集
2. **数据预处理**：
   - 检查缺失值并进行处理
   - 数据标准化或归一化
   - 构建时间序列特征
3. **模型构建**：
   - 设计LSTM时间序列模型架构
   - 划分训练集和测试集
   - 训练模型并调优
4. **结果评估**：
   - 使用适当的评估指标评估模型性能
   - 分析预测结果的准确性
5. **可视化分析**：
   - 绘制历史PM2.5浓度变化趋势
   - 可视化预测结果与实际值的对比
   - 分析京津冀地区PM2.5浓度的时空分布特征

---

**报告完成时间**：2025年12月
**数据来源**：项目内置的历史AQI数据
**适用范围**：京津冀城市群PM2.5浓度预测与可视化分析